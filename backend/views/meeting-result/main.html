<div ng-include src="'views/header.html'"></div>
<div class="row form-group" style="padding-top: 10px;">
	  <div class="col-lg-10">
	    <div class="row">
	      <div class="col-lg-10" style="padding: 5px; font-weight: bolder; font-size: 1.3em;">
	        <span ng-repeat="data in MenuName">
		        <img src="../files/img/pin-menu.png">
		        {{data.menu_name_th}}
		    </span>
	      </div>
	    </div>
	  </div>
	  <div class="col-lg-6">

	  </div>
</div>
<div ng-show="PAGE == 'UPDATE'">
	<div class="row form-group">
		<label class="form-control-static col-lg-12 text-center">
			<h4>{{MeetingType}}</h4>
		</label>
	</div>
	<div class="row form-group">
		<label class="form-control-static col-lg-2">
			ชื่อการประชุม TH
		</label>
		<div class="col-lg-4">
			<input class="form-control" ng-model="Data.meeting_name_th">
		</div>
		<label class="form-control-static col-lg-2">
			ชื่อการประชุม EN
		</label>
		<div class="col-lg-4">
			<input class="form-control" ng-model="Data.meeting_name_en">
		</div>
	</div>
	<div class="row form-group">
		<label class="form-control-static col-lg-2">
			ครั้งที่
		</label>
		<div class="col-lg-4">
			<input class="form-control" ng-model="Data.times">
		</div>
	</div>
	<div class="row form-group">
		<label class="form-control-static col-lg-2">
			วันที่
		</label>
		<div class="col-lg-4">
			<p class="input-group">
				<input type="text" class="form-control" ng-model="Data.meeting_start_date" uib-datepicker-popup="yyyy-MM-dd" is-open="popup1.opened" required="true">
				<span class="input-group-btn">
	            	<button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
	          </span>
	        </p>
		</div>
	</div>
	<div class="row form-group">
		<label class="form-control-static col-lg-2">
			สถานที่จัด TH
		</label>
		<div class="col-lg-4">
			<input class="form-control" ng-model="Data.meeting_place_th">
		</div>
		<label class="form-control-static col-lg-2">
			สถานที่จัด EN
		</label>
		<div class="col-lg-4">
			<input class="form-control" ng-model="Data.meeting_place_en">
		</div>
	</div>

	<div class="row form-group">
		<label class="form-control-static col-lg-2">
			สาระสำคัญ TH
		</label>
		<div class="col-lg-4">
			<textarea class="form-control" ng-model="Data.essence_th"></textarea>
		</div>
		<label class="form-control-static col-lg-2">
			สาระสำคัญ EN
		</label>
		<div class="col-lg-4">
			<textarea class="form-control" ng-model="Data.essence_en"></textarea>
		</div>
	</div>
	<div class="row form-group">
		<label class="form-control-static col-lg-2">
			ไฟล์แนบ TH
		</label>
		<div class="col-lg-3">
			<p class="input-group">
              <input type="text" readonly="true" class="form-control" ng-model="AttachFileTH.name" />
              <span class="input-group-btn">
                <button class="btn btn-default" ngf-select ng-model="AttachFileTH" ngf-max-size="25MB"  ngf-model-invalid="AttachFileTH.invalidFile">เลือก</button>
              </span>
            </p>
		</div>
		<div class="col-lg-3">
			<div class="file-alert" ng-show="AttachFileTH.invalidFile.$error === 'maxSize'">ขนาดไฟล์ต้องไม่เกิน : {{AttachFileTH.invalidFile.$errorParam}}</div>
		</div>
	</div>
	<div class="row form-group">
		<label class="form-control-static col-lg-2">
			ไฟล์แนบ EN
		</label>
		<div class="col-lg-3">
			<p class="input-group">
              <input type="text" readonly="true" class="form-control" ng-model="AttachFileEN.name" />
              <span class="input-group-btn">
                <button class="btn btn-default" ngf-select ng-model="AttachFileEN" ngf-max-size="25MB"  ngf-model-invalid="AttachFileEN.invalidFile">เลือก</button>
              </span>
            </p>
		</div>
		<div class="col-lg-3">
			<div class="file-alert" ng-show="AttachFileEN.invalidFile.$error === 'maxSize'">ขนาดไฟล์ต้องไม่เกิน : {{AttachFileEN.invalidFile.$errorParam}}</div>
		</div>
	</div>

	<div class="row form-group">
		<div class="col-lg-12 text-center">
			<button class="btn btn-primary" ng-click="saveData(Data, AttachFileTH, AttachFileEN)">บันทึก</button>
			<button class="btn btn-default" ng-click="cancel('MAIN')">ยกเลิก</button>
		</div>
	</div>
</div>

<div ng-show="PAGE == 'MAIN'">
	<div class="row">
		<div class="col-lg-2">
			<button class="btn btn-info btn-block" ng-repeat="data in MeetingTypeList" ng-init="btn_index = $index" ng-class="{'active':MeetingTypeIndex == btn_index}" ng-click="setMeetingType(btn_index)">
				{{data.meeting_type}}
			</button>
		</div>
		<div class="col-lg-10">

			<div class="row form-group">
				<div class="col-lg-12">
					<h4>{{MeetingType}}</h4>
					<button class="btn btn-primary pull-right" ng-click="updateData(null)">เพิ่มข้อมูล</button>
					
				</div>
			</div>
			<div class="table-responsive">
				<table class="table table-striped">
					<thead>
						<tr>
							<th>ชื่อการประชุม</th>
							<th>ครั้งที่</th>
							<th>วันที่</th>
							<th>สถานที่จัด</th>
							<th>สาระสำคัญ</th>
							<th>ไฟล์แนบ</th>
							<th>จัดการ</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="data in DataList">
							<td>
								{{data.meeting_name_th}}
							</td>
							<td>
								{{data.times}}
							</td>
							<td>
								{{data.meeting_start_date}}
							</td>
							<td>
								{{data.meeting_place_th}}
							</td>
							<td>
								{{data.essence_th}}
							</td>
							<td>
								<a href="../{{data.file_path}}" title="{{data.file_name_th}}">
									<span class="glyphicon glyphicon-download" style="font-size: 2em;"></span>
								</a>
							</td>
							<td>
								<button class="btn btn-default" ng-click="updateData(data)">แก้ไข</button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>